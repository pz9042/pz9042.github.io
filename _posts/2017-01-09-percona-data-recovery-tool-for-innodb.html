---
layout: article
title:  "percona-data-recovery-tool-for-innodb 使用"
tags: MySQL recovery
categories: 拓展
date: 2017-01-09 15:02:00
---
<div id='preview-contents' class='note-content'>
                        
                    



<h3 id="percona-data-recovery-tool-for-innodb-使用">percona-data-recovery-tool-for-innodb 使用</h3>

<p><code>percona-data-recovery-tool-for-innodb</code>能够恢复被删除数据是因为innodb在收到delete请求后并不会真的删除数据，只是做个标记，但是加了删除标记的行，是会被后面的写操作覆盖，所以一旦发现数据被删除被篡改，要马上停止mysql对外提供服务或者防止写请求，否则原来的数据由可能被覆盖而无法还原</p>



<pre class="prettyprint hljs-dark"><code class="language-sql hljs">pengzhen@pz:/usr/local/src/percona-data-recovery-tool-for-innodb-0.5$ ./page_parser <span class="hljs-comment">--help</span><br>./page_parser: invalid option <span class="hljs-comment">-- '-'</span><br>Error: Usage: ./page_parser -4|-5 [-dDhcCV] -f &lt;innodb_datafile&gt; [-T N:M] [-s size] [-t size]<br>  Where<br>  -h <span class="hljs-comment">-- Print this help</span><br>  -V <span class="hljs-comment">-- Print debug information</span><br>  -d <span class="hljs-comment">-- Process only those pages which potentially could have deleted records (default = NO)</span><br>  -s size <span class="hljs-comment">-- Amount of memory used for disk cache (allowed examples 1G 10M). Default 100M</span><br>  -T <span class="hljs-comment">-- retrieves only pages with index id = NM (N - high word, M - low word of id)</span><br>  -c <span class="hljs-comment">-- count pages in the tablespace and group them by index id</span><br>  -C <span class="hljs-comment">-- count pages in the tablespace and group them by index id (and ignore too high/zero indexes)</span><br>  -t size <span class="hljs-comment">-- Size of InnoDB tablespace to scan. Use it only if the parser can't determine it by himself.</span><br></code></pre>

<p>创建如下表和数据</p>

<pre class="prettyprint hljs-dark"><code class="language-sql hljs">mysql&gt; <span class="hljs-keyword">set</span> <span class="hljs-keyword">global</span> innodb_file_per_table=<span class="hljs-keyword">on</span>;<br>mysql&gt; <span class="hljs-keyword">use</span> <span class="hljs-keyword">test</span>;<br>Database changed<br>mysql&gt; <span class="hljs-keyword">show</span> <span class="hljs-keyword">create</span> <span class="hljs-keyword">table</span> member_info;<br>+<span class="hljs-comment">-------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br>| Table | <span class="hljs-keyword">Create</span> <span class="hljs-keyword">Table</span> |<br>+<span class="hljs-comment">-------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br>| member_info | <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> <span class="hljs-string">`member_info`</span> (<br>  <span class="hljs-string">`id`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">10</span>) <span class="hljs-keyword">unsigned</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> AUTO_INCREMENT <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'用户id'</span>,<br>  <span class="hljs-string">`name`</span> <span class="hljs-built_in">varchar</span>(<span class="hljs-number">20</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'用户名称'</span>,<br>  <span class="hljs-string">`sex`</span> <span class="hljs-built_in">varchar</span>(<span class="hljs-number">3</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'用户性别'</span>,<br>  <span class="hljs-string">`add_time`</span> <span class="hljs-built_in">int</span>(<span class="hljs-number">11</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'注册时间'</span>,<br>  <span class="hljs-string">`sub_desc`</span> <span class="hljs-built_in">varchar</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span> <span class="hljs-keyword">COMMENT</span> <span class="hljs-string">'用户简介'</span>,<br>  PRIMARY <span class="hljs-keyword">KEY</span> (<span class="hljs-string">`id`</span>),<br>  <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">KEY</span> <span class="hljs-string">`name`</span> (<span class="hljs-string">`name`</span>),<br>  <span class="hljs-keyword">KEY</span> <span class="hljs-string">`add_time`</span> (<span class="hljs-string">`add_time`</span>)<br>) <span class="hljs-keyword">ENGINE</span>=<span class="hljs-keyword">InnoDB</span> AUTO_INCREMENT=<span class="hljs-number">1</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CHARSET</span>=utf8 |<br>+<span class="hljs-comment">-------------+---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------+</span><br><span class="hljs-number">1</span> <span class="hljs-keyword">row</span> <span class="hljs-keyword">in</span> <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql&gt; <span class="hljs-keyword">select</span> * <span class="hljs-keyword">from</span> member_info;<br>+<span class="hljs-comment">----+--------------+-----+------------+----------+</span><br>| id | name | sex | add_time | sub_desc |<br>+<span class="hljs-comment">----+--------------+-----+------------+----------+</span><br>| 1 | gaoxiaosong | 男 | 1481384310 | |<br>| 2 | zhanzhaozhong | nan  | 1476002753 | |<br>| 3 | tuyouyou | 女 | 1476005256 | |<br>+<span class="hljs-comment">----+--------------+-----+------------+----------+</span><br>3 rows in <span class="hljs-keyword">set</span> (<span class="hljs-number">0.00</span> sec)<br><br>mysql&gt; <span class="hljs-keyword">update</span> member_info <span class="hljs-keyword">set</span> sex=<span class="hljs-string">'女'</span> <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span>=<span class="hljs-number">1</span>;<br>Query OK, 1 row affected (0.02 sec)<br>Rows matched: 1 Changed: 1 Warnings: 0<br><br>mysql&gt; <span class="hljs-keyword">delete</span> <span class="hljs-keyword">from</span> member_info <span class="hljs-keyword">where</span> <span class="hljs-keyword">id</span>=<span class="hljs-number">2</span>;<br>Query OK, 1 row affected (0.05 sec)<br></code></pre>

<p>解析ibd文件</p>

<pre class="prettyprint hljs-dark"><code class="language-bash hljs">root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># ./page_parser -5 -f /usr/local/mysql5.5/data/test/member_info.ibd</span><br>root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># ls</span><br>check_data.c constraints_parser.c docs ibdconnect include innochecksum INSTALL Makefile page_parser pages-1484015318 split_dump.pl<br>constraints_parser create_defs.pl fetch_data.sh ibdconnect.c incrementalupdate.c innochecksum.c lib mysql-source page_parser.c print_data.c tables_dict.c<br></code></pre>

<p>发现多了 pages-1484015318 文件</p>



<pre class="prettyprint hljs-dark"><code class="language-bash hljs">root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># ll pages-1484015318/FIL_PAGE_INDEX</span><br>total 20<br>drwxr-xr-x 5 root root 4096 1月 10 10:28 ./<br>drwxr-xr-x 3 root root 4096 1月 10 10:28 ../<br>drwxr-xr-x 2 root root 4096 1月 10 10:28 0-486/<br>drwxr-xr-x 2 root root 4096 1月 10 10:28 0-487/<br>drwxr-xr-x 2 root root 4096 1月 10 10:28 0-488/<br></code></pre>

<p>这三个文件，其实对应的是member_info的三个索引，我们都知道innodb是索引组织表，所有的数据是在主键索引中，所以我们要做的就是判断哪个文件才是主键索引的数据。</p>



<pre class="prettyprint hljs-dark"><code class="language-sql hljs">mysql&gt; <span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> innodb_table_monitor (<span class="hljs-keyword">id</span> <span class="hljs-built_in">int</span>) <span class="hljs-keyword">ENGINE</span>=<span class="hljs-keyword">InnoDB</span>;<br>Query OK, 0 rows affected (0.07 sec)<br><br>mysql&gt; system sudo tail -n 50 /usr/local/mysql5.5/data/pz.err<br>  root page 4, appr.key vals 2, leaf pages 1, size pages 1<br>  FIELDS: name id<br>  INDEX: name add_time, id 483, fields 1/2, uniq 2, type 0<br>  root page 5, appr.key vals 2, leaf pages 1, size pages 1<br>  FIELDS: add_time id<br><span class="hljs-comment">-----------------------------------</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">OF</span> <span class="hljs-keyword">INNODB</span> <span class="hljs-keyword">TABLE</span> MONITOR <span class="hljs-keyword">OUTPUT</span><br>==================================<br>===========================================<br><span class="hljs-number">170110</span> <span class="hljs-number">10</span>:<span class="hljs-number">30</span>:<span class="hljs-number">17</span> <span class="hljs-keyword">INNODB</span> <span class="hljs-keyword">TABLE</span> MONITOR <span class="hljs-keyword">OUTPUT</span><br>===========================================<br><span class="hljs-comment">--------------------------------------</span><br><span class="hljs-keyword">TABLE</span>: <span class="hljs-keyword">name</span> SYS_FOREIGN, <span class="hljs-keyword">id</span> <span class="hljs-number">11</span>, flags <span class="hljs-number">0</span>, <span class="hljs-keyword">columns</span> <span class="hljs-number">7</span>, <span class="hljs-keyword">indexes</span> <span class="hljs-number">3</span>, appr.rows <span class="hljs-number">0</span><br>  <span class="hljs-keyword">COLUMNS</span>: <span class="hljs-keyword">ID</span>: DATA_VARCHAR prtype <span class="hljs-number">524292</span> <span class="hljs-keyword">len</span> <span class="hljs-number">0</span>; FOR_NAME: DATA_VARCHAR prtype 524292 len 0; REF_NAME: DATA_VARCHAR prtype 524292 len 0; N_COLS: DATA_INT len 4; DB_ROW_ID: DATA_SYS prtype 256 len 6; DB_TRX_ID: DATA_SYS prtype 257 len 6; DB_ROLL_PTR: DATA_SYS prtype 258 len 7;<br>  INDEX: name ID_IND, id 11, fields 1/6, uniq 1, type 3<br>  root page 302, appr.key vals 0, leaf pages 1, size pages 1<br>  FIELDS: ID DB_TRX_ID DB_ROLL_PTR FOR_NAME REF_NAME N_COLS<br>  INDEX: name FOR_IND, id 12, fields 1/2, uniq 2, type 0<br>  root page 303, appr.key vals 0, leaf pages 1, size pages 1<br>  FIELDS: FOR_NAME ID<br>  INDEX: name REF_IND, id 13, fields 1/2, uniq 2, type 0<br>  root page 304, appr.key vals 0, leaf pages 1, size pages 1<br>  FIELDS: REF_NAME ID<br><span class="hljs-comment">--------------------------------------</span><br>TABLE: name SYS_FOREIGN_COLS, id 12, flags 0, columns 7, indexes 1, appr.rows 0<br>  COLUMNS: ID: DATA_VARCHAR prtype 524292 len 0; POS: DATA_INT len 4; FOR_COL_NAME: DATA_VARCHAR prtype 524292 len 0; REF_COL_NAME: DATA_VARCHAR prtype 524292 len 0; DB_ROW_ID: DATA_SYS prtype 256 len 6; DB_TRX_ID: DATA_SYS prtype 257 len 6; DB_ROLL_PTR: DATA_SYS prtype 258 len 7;<br>  INDEX: name ID_IND, id 14, fields 2/6, uniq 2, type 3<br>  root page 305, appr.key vals 0, leaf pages 1, size pages 1<br>  FIELDS: ID POS DB_TRX_ID DB_ROLL_PTR FOR_COL_NAME REF_COL_NAME<br><span class="hljs-comment">--------------------------------------</span><br>TABLE: name test/innodb_table_monitor, id 216, flags 1, columns 4, indexes 1, appr.rows 0<br>  COLUMNS: id: DATA_INT DATA_BINARY_TYPE len 4; DB_ROW_ID: DATA_SYS prtype 256 len 6; DB_TRX_ID: DATA_SYS prtype 257 len 6; DB_ROLL_PTR: DATA_SYS prtype 258 len 7;<br>  INDEX: name GEN_CLUST_INDEX, id 489, fields 0/4, uniq 1, type 1<br>  root page 3, appr.key vals 0, leaf pages 1, size pages 1<br>  FIELDS: DB_ROW_ID DB_TRX_ID DB_ROLL_PTR id<br><span class="hljs-comment">--------------------------------------</span><br>TABLE: name test/member_info, id 215, flags 1, columns 8, indexes 3, appr.rows 2<br>  COLUMNS: id: DATA_INT DATA_UNSIGNED DATA_BINARY_TYPE DATA_NOT_NULL len 4; name: DATA_VARMYSQL DATA_NOT_NULL len 60; sex: DATA_VARMYSQL DATA_NOT_NULL len 9; add_time: DATA_INT DATA_BINARY_TYPE DATA_NOT_NULL len 4; sub_desc: DATA_VARMYSQL DATA_NOT_NULL len 300; DB_ROW_ID: DATA_SYS prtype 256 len 6; DB_TRX_ID: DATA_SYS prtype 257 len 6; DB_ROLL_PTR: DATA_SYS prtype 258 len 7;<br>  INDEX: name PRIMARY, id 486, fields 1/7, uniq 1, type 3<br>  root page 3, appr.key vals 2, leaf pages 1, size pages 1<br>  FIELDS: id DB_TRX_ID DB_ROLL_PTR name sex add_time sub_desc<br>  INDEX: name name, id 487, fields 1/2, uniq 1, type 2<br>  root page 4, appr.key vals 2, leaf pages 1, size pages 1<br>  FIELDS: name id<br>  INDEX: name add_time, id 488, fields 1/2, uniq 2, type 0<br>  root page 5, appr.key vals 2, leaf pages 1, size pages 1<br>  FIELDS: add_time id<br><span class="hljs-comment">-----------------------------------</span><br><span class="hljs-keyword">END</span> <span class="hljs-keyword">OF</span> <span class="hljs-keyword">INNODB</span> <span class="hljs-keyword">TABLE</span> MONITOR <span class="hljs-keyword">OUTPUT</span><br>==================================<br><br>mysql&gt; <span class="hljs-keyword">drop</span> <span class="hljs-keyword">table</span> innodb_table_monitor;<br>Query OK, 0 rows affected (0.02 sec)<br></code></pre>

<p>由此可知，member_info的主键id是 486，那么我们要解析的文件就是0-486目录下的文件。该工具是通过读取page页中的数据来解析成sql，所以需要表结构定义。</p>

<p>// zhanzhaozong是我们刚才delete的那行数据，在 0-486下确实匹配到了</p>



<pre class="prettyprint hljs-dark"><code class="language-bash hljs">root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># grep zhanzhaozhong -r pages-1484015318/FIL_PAGE_INDEX/0-486</span><br>Binary file pages-1484015318/FIL_PAGE_INDEX/0-486/0-00000003.page matches<br>root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># ./create_defs.pl --host 127.0.0.1 -port 3307 --user root --password 123456 --db test &gt; ./include/table_defs.h</span><br>//查看 table_desf.h文件，我们可以知道，innodb引擎默认给每张表加了DB_TRX_ID、DB_ROLL_PTR列，一个是事物id，一个是回滚指针<br>root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># make</span><br>root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment"># ./constraints_parser -5 -f ./pages-1484015318/FIL_PAGE_INDEX/0-486/0-00000003.page</span><br>member_info 1 <span class="hljs-string">"gaoxiaosong"</span> <span class="hljs-string">"女"</span> 1481384310 <span class="hljs-string">""</span><br>member_info 3 <span class="hljs-string">"tuyouyou"</span> <span class="hljs-string">"女"</span> 1476005256 <span class="hljs-string">""</span><br>LOAD DATA INFILE <span class="hljs-string">'/usr/local/src/percona-data-recovery-tool-for-innodb-0.5/dumps/default/member_info'</span> REPLACE INTO TABLE `member_info` FIELDS TERMINATED BY <span class="hljs-string">'\t'</span> OPTIONALLY ENCLOSED BY <span class="hljs-string">'"'</span> LINES STARTING BY <span class="hljs-string">'member_info\t'</span> (id, name, sex, add_time, sub_desc);<br></code></pre>

<p>//以上信息并没有找到我们删除的那条信息，但是我们用编辑器查看该文件，确实是能找到zhanzhaozhong关键字的。非常奇怪，在经历了一系列网上资料查找后</p>



<pre class="prettyprint hljs-dark"><code class="language-bash hljs">root@pz:/usr/<span class="hljs-built_in">local</span>/src/percona-data-recovery-tool-for-innodb-0.5<span class="hljs-comment">#./constraints_parser -5 -f ./pages-1484015318/FIL_PAGE_INDEX/0-486/0-00000003.page -V</span><br>Opening file: pages-1483957112/FIL_PAGE_INDEX/0-477/0-00000003.page<br>Initializing table definitions...<br>Processing table: member_info<br> - total fields: 7<br> - nullable fields: 0<br> - minimum header size: 8<br> - minimum rec size: 21<br> - maximum rec size: 390<br><br>Read data from fn=3...<br>Page id: 3<br>Checking a page<br>Infimum offset: 0x63<br>Supremum offset: 0x70<br>Next record at offset: 0x80 (128)<br>Next record at offset: 0xAB (171)<br>Next record at offset: 0x70 (112)<br>Page is good<br>Starting offset: 128 (80). Checking 1 table definitions.<br><br>Checking offset: 0x80: (member_info) ORIGIN=OK DELETED=0x0 OFFSETS=OK DATA_SIZE=OK<br>Checking field lengths <span class="hljs-keyword">for</span> a row (member_info): OFFSETS: 0 4 10 17 28 31 35<br> - field id(4):<br> - field DB_TRX_ID(6):<br> - field DB_ROLL_PTR(7):<br> - field name(11):OK!<br> - field sex(3):OK!<br> - field add_time(4):<br> - field sub_desc(0):OK!<br>FIELD_SIZES=OK<br>Checking constraints <span class="hljs-keyword">for</span> a row (member_info) at 0x2069090: len 100; hex 00000001000000188cad210000066d083d67616f7869616f736f6e67e5a5b3d84c2176000308000018ffc500000003000000188ca89d0000016701107475796f75796f75e5a5b3d7fa0d880000030c200020000000000002000000188cab200000066c05; asc ! m =gaoxiaosong L!v g tuyouyou l ;<br> - field id(addr = 0x2069090, len = 4):<br> - field DB_TRX_ID(addr = 0x2069094, len = 6):<br> - field DB_ROLL_PTR(addr = 0x206909a, len = 7):<br> - field name(addr = 0x20690a1, len = 11):<br> - field sex(addr = 0x20690ac, len = 3):<br> - field add_time(addr = 0x20690af, len = 4):<br> - field sub_desc(addr = 0x20690b3, len = 0):<br>Row looks OK!<br><br>---------------------------------------------------<br>PAGE3: Found a table member_info record: 0x2069090 (offset = 128)<br>Processing record 0x2069090 from table <span class="hljs-string">'member_info'</span><br>PHYSICAL RECORD: n_fields 7; compact format; info bits 0<br> 0: len 4; hex 00000001; asc ;; 1: len 6; hex 000000188cad; asc ;; 2: len 7; hex 210000066d083d; asc ! m =;; 3: len 11; hex 67616f7869616f736f6e67; asc gaoxiaosong;; 4: len 3; hex e5a5b3; asc ;; 5: len 4; hex d84c2176; asc L!v;; 6: len 0; hex ; asc ;;<br>Field <span class="hljs-comment">#0 @ 0x2069090: length 4, value: 1</span><br>Field <span class="hljs-comment">#3 @ 0x20690a1: length 11, value: "gaoxiaosong"</span><br>Field <span class="hljs-comment">#4 @ 0x20690ac: length 3, value: "女"</span><br>Field <span class="hljs-comment">#5 @ 0x20690af: length 4, value: 1481384310</span><br>Field <span class="hljs-comment">#6 @ 0x20690b3: length 0, value: ""</span><br><br>Next offset: 0xAB<br>Checking offset: 0xAB: (member_info) ORIGIN=OK DELETED=0x0 OFFSETS=OK DATA_SIZE=OK<br>Checking field lengths <span class="hljs-keyword">for</span> a row (member_info): OFFSETS: 0 4 10 17 25 28 32<br> - field id(4):<br> - field DB_TRX_ID(6):<br> - field DB_ROLL_PTR(7):<br> - field name(8):OK!<br> - field sex(3):OK!<br> - field add_time(4):<br> - field sub_desc(0):OK!<br>FIELD_SIZES=OK<br>Checking constraints <span class="hljs-keyword">for</span> a row (member_info) at 0x20690bb: len 100; hex 00000003000000188ca89d0000016701107475796f75796f75e5a5b3d7fa0d880000030c200020000000000002000000188cab200000066c05c97a68616e7a68616f7a6f6e67e794b7d7fa03c10000000000000000000000000000000000000000000000; asc g tuyouyou l zhanzhaozong ;<br> - field id(addr = 0x20690bb, len = 4):<br> - field DB_TRX_ID(addr = 0x20690bf, len = 6):<br> - field DB_ROLL_PTR(addr = 0x20690c5, len = 7):<br> - field name(addr = 0x20690cc, len = 8):<br> - field sex(addr = 0x20690d4, len = 3):<br> - field add_time(addr = 0x20690d7, len = 4):<br> - field sub_desc(addr = 0x20690db, len = 0):<br>Row looks OK!<br><br>---------------------------------------------------<br>PAGE3: Found a table member_info record: 0x20690bb (offset = 171)<br>Processing record 0x20690bb from table <span class="hljs-string">'member_info'</span><br>PHYSICAL RECORD: n_fields 7; compact format; info bits 0<br> 0: len 4; hex 00000003; asc ;; 1: len 6; hex 000000188ca8; asc ;; 2: len 7; hex 9d000001670110; asc g ;; 3: len 8; hex 7475796f75796f75; asc tuyouyou;; 4: len 3; hex e5a5b3; asc ;; 5: len 4; hex d7fa0d88; asc ;; 6: len 0; hex ; asc ;;<br>Field <span class="hljs-comment">#0 @ 0x20690bb: length 4, value: 3</span><br>Field <span class="hljs-comment">#3 @ 0x20690cc: length 8, value: "tuyouyou"</span><br>Field <span class="hljs-comment">#4 @ 0x20690d4: length 3, value: "女"</span><br>Field <span class="hljs-comment">#5 @ 0x20690d7: length 4, value: 1476005256</span><br>Field <span class="hljs-comment">#6 @ 0x20690db: length 0, value: ""</span><br><br>Next offset: 0x70LOAD DATA INFILE <span class="hljs-string">'/usr/local/src/percona-data-recovery-tool-for-innodb-0.5/dumps/default/member_info'</span> REPLACE INTO TABLE `member_info` FIELDS TERMINATED BY <span class="hljs-string">'\t'</span> OPTIONALLY ENCLOSED BY <span class="hljs-string">'"'</span> LINES STARTING BY <span class="hljs-string">'member_info\t'</span> (id, name, sex, add_time, sub_desc);<br></code></pre>

<p>很奇怪，发现 Next offset: 0x70后就没动静了。<a href="https://bugs.launchpad.net/percona-data-recovery-tool-for-innodb/+bug/673574" target="_blank">bug</a></p></div></body></html>